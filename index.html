<!DOCTYPE html>
<html>

<head>
	<title>Aloe App</title>

    <!-- jQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

	<!-- UIKit 2.9.0 -->
	<link rel="stylesheet" href="lib/uikit-2.9.0/css/uikit.min.css" />
	<script src="lib/uikit-2.9.0/js/uikit.min.js"></script>

	<script src="js/Task.js"></script>
	<script src="js/TaskManager.js"></script>
	<script src="js/setup.js"></script>

</head>

<body>

<div class="uk-grid" id="content">
	<h1 class="uk-width-1-1">Aloe App Task Manager</h1>
</div>

<form class="uk-form">
	<div id="addTaskError"></div>
	<select name="priority">
	    <option value="high">High</option>
	    <option value="mid" selected="selected">Mid</option>
	    <option value="low">Low</option>
	</select>
	<input type="text" name="descr" placeholder="description" id="descr">
	<select name="category">
	    <option value="0" selected="selected">Purple</option>
	    <option value="1">Green</option>
	    <option value="2">Blue</option>
	    <option value="3">Yellow</option>
	    <option value="4">Pink</option>
	    <option value="5">Orange</option>
	</select>
	<button id="addTask" class="uk-button" type="submit" name="addTask"><i class="uk-icon-plus"></i> Add</button>
</form>


<script>

	$( "form" ).submit(function( event ) {
		event.preventDefault();

		var taskData = {};
		$.each($( this ).serializeArray(), function( i, v ) {
			taskData[v.name] = v.value;
		});

		if( taskData["descr"] != "" ) {
			var newTask = new Task( taskData );
			$("#addTaskError").empty();
			$("#content").append(newTask.html);
		} else if ( $("#addTaskError").is(":empty") ){
			$( "#addTaskError" ).append("<div class='uk-width-1-1'>Cannot leave description blank.</div>");
		}

	});

</script>

</body>

</html>